{"version":3,"sources":["../node_modules/react-player/lib/players/FilePlayer.js"],"names":["_objectSpread","__webpack_require__","_classCallCheck","_createClass","_possibleConstructorReturn","_getPrototypeOf","_inherits","_assertThisInitialized","_createForOfIteratorHelper","r","e","t","Symbol","iterator","Array","isArray","a","_arrayLikeToArray","toString","call","slice","constructor","name","from","test","_unsupportedIterableToArray","length","_n","F","s","n","done","value","f","TypeError","o","u","next","return","mod","__create","Object","create","__defProp","defineProperty","__getOwnPropDesc","getOwnPropertyDescriptor","__getOwnPropNames","getOwnPropertyNames","__getProtoOf","getPrototypeOf","__hasOwnProp","prototype","hasOwnProperty","__copyProps","to","except","desc","_step","_iterator","_loop","key","get","enumerable","err","__publicField","obj","configurable","writable","__defNormalProp","FilePlayer_exports","target","all","__export","default","FilePlayer","module","exports","import_react","isNodeMode","__esModule","__toESM","import_utils","import_patterns","HAS_NAVIGATOR","navigator","IS_IPAD_PRO","platform","maxTouchPoints","IS_IOS","userAgent","window","MSStream","IS_SAFARI","MATCH_DROPBOX_URL","MATCH_CLOUDFLARE_STREAM","_import_react$Compone","_this","this","apply","arguments","_this$props","props","onReady","_this$props2","onPlay","_this$props3","onBuffer","_this$props4","onBufferEnd","_this$props5","onPause","_this$props6","onEnded","_this$props7","onError","event","onPlaybackRateChange","playbackRate","_this$props8","onEnablePIP","_this$props9","onDisablePIP","playing","play","player","supportsWebKitPresentationMode","webkitPresentationMode","onSeek","currentTime","muted","source","index","createElement","src","track","prevPlayer","onMount","addListeners","getSource","url","config","forceDisableHls","load","prevProps","shouldUseAudio","removeListeners","isMediaStream","srcObject","removeAttribute","hls","destroy","_this$props10","playsinline","addEventListener","onPlayBackRateChange","onPresentationModeChange","shouldUseHLS","setAttribute","removeEventListener","forceVideo","attributes","poster","AUDIO_EXTENSIONS","forceAudio","forceSafariHLS","forceHLS","HLS_EXTENSIONS","DASH_EXTENSIONS","forceDASH","FLV_EXTENSIONS","forceFLV","_this2","_this$props$config","hlsVersion","hlsOptions","dashVersion","flvVersion","dash","reset","getSDK","replace","then","Hls","on","Events","MANIFEST_PARSED","ERROR","data","id","match","loadSource","attachMedia","onLoaded","shouldUseDASH","dashjs","MediaPlayer","initialize","parseInt","getDebug","setLogToBrowserConsole","updateSettings","debug","logLevel","Debug","LOG_LEVEL_NONE","shouldUseFLV","flvjs","flv","createPlayer","type","attachMediaElement","URL","createObjectURL","promise","catch","pause","seconds","keepPlaying","undefined","fraction","volume","requestPictureInPicture","document","pictureInPictureElement","webkitSetPresentationMode","exitPictureInPicture","rate","error","_this$player","duration","seekable","Infinity","end","buffered","getDuration","useHLS","useDASH","useFLV","_this$props11","loop","controls","width","height","Element","style","ref","preload","autoPlay","map","renderSourceElement","tracks","renderTrack","Component","canPlay","file"],"mappings":"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","file":"static/js/reactPlayerFilePlayer.3ba314c3.chunk.js","sourcesContent":["var _objectSpread = require(\"/home/mohammad/Primary/codes/bookc-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/objectSpread\");\nvar _classCallCheck = require(\"/home/mohammad/Primary/codes/bookc-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\nvar _createClass = require(\"/home/mohammad/Primary/codes/bookc-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\nvar _possibleConstructorReturn = require(\"/home/mohammad/Primary/codes/bookc-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\nvar _getPrototypeOf = require(\"/home/mohammad/Primary/codes/bookc-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/getPrototypeOf\");\nvar _inherits = require(\"/home/mohammad/Primary/codes/bookc-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits\");\nvar _assertThisInitialized = require(\"/home/mohammad/Primary/codes/bookc-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/assertThisInitialized\");\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t.return || t.return(); } finally { if (u) throw o; } } }; }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __defNormalProp = function __defNormalProp(obj, key, value) {\n  return key in obj ? __defProp(obj, key, {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: value\n  }) : obj[key] = value;\n};\nvar __export = function __export(target, all) {\n  for (var name in all) __defProp(target, name, {\n    get: all[name],\n    enumerable: true\n  });\n};\nvar __copyProps = function __copyProps(to, from, except, desc) {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    var _iterator = _createForOfIteratorHelper(__getOwnPropNames(from)),\n      _step;\n    try {\n      var _loop = function _loop() {\n        var key = _step.value;\n        if (!__hasOwnProp.call(to, key) && key !== except) __defProp(to, key, {\n          get: function get() {\n            return from[key];\n          },\n          enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable\n        });\n      };\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        _loop();\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  }\n  return to;\n};\nvar __toESM = function __toESM(mod, isNodeMode, target) {\n  return target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  // If the importer is in node compatibility mode or this is not an ESM\n  // file that has been converted to a CommonJS file using a Babel-\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", {\n    value: mod,\n    enumerable: true\n  }) : target, mod);\n};\nvar __toCommonJS = function __toCommonJS(mod) {\n  return __copyProps(__defProp({}, \"__esModule\", {\n    value: true\n  }), mod);\n};\nvar __publicField = function __publicField(obj, key, value) {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nvar FilePlayer_exports = {};\n__export(FilePlayer_exports, {\n  default: function _default() {\n    return FilePlayer;\n  }\n});\nmodule.exports = __toCommonJS(FilePlayer_exports);\nvar import_react = __toESM(require(\"react\"));\nvar import_utils = require(\"../utils\");\nvar import_patterns = require(\"../patterns\");\nvar HAS_NAVIGATOR = typeof navigator !== \"undefined\";\nvar IS_IPAD_PRO = HAS_NAVIGATOR && navigator.platform === \"MacIntel\" && navigator.maxTouchPoints > 1;\nvar IS_IOS = HAS_NAVIGATOR && (/iPad|iPhone|iPod/.test(navigator.userAgent) || IS_IPAD_PRO) && !window.MSStream;\nvar IS_SAFARI = HAS_NAVIGATOR && /^((?!chrome|android).)*safari/i.test(navigator.userAgent) && !window.MSStream;\nvar HLS_SDK_URL = \"https://cdn.jsdelivr.net/npm/hls.js@VERSION/dist/hls.min.js\";\nvar HLS_GLOBAL = \"Hls\";\nvar DASH_SDK_URL = \"https://cdnjs.cloudflare.com/ajax/libs/dashjs/VERSION/dash.all.min.js\";\nvar DASH_GLOBAL = \"dashjs\";\nvar FLV_SDK_URL = \"https://cdn.jsdelivr.net/npm/flv.js@VERSION/dist/flv.min.js\";\nvar FLV_GLOBAL = \"flvjs\";\nvar MATCH_DROPBOX_URL = /www\\.dropbox\\.com\\/.+/;\nvar MATCH_CLOUDFLARE_STREAM = /https:\\/\\/watch\\.cloudflarestream\\.com\\/([a-z0-9]+)/;\nvar REPLACE_CLOUDFLARE_STREAM = \"https://videodelivery.net/{id}/manifest/video.m3u8\";\nvar FilePlayer = /*#__PURE__*/function (_import_react$Compone) {\n  \"use strict\";\n\n  _inherits(FilePlayer, _import_react$Compone);\n  function FilePlayer() {\n    var _this;\n    _classCallCheck(this, FilePlayer);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FilePlayer).apply(this, arguments));\n    // Proxy methods to prevent listener leaks\n    __publicField(_assertThisInitialized(_assertThisInitialized(_this)), \"onReady\", function () {\n      var _this$props;\n      return (_this$props = _this.props).onReady.apply(_this$props, arguments);\n    });\n    __publicField(_assertThisInitialized(_assertThisInitialized(_this)), \"onPlay\", function () {\n      var _this$props2;\n      return (_this$props2 = _this.props).onPlay.apply(_this$props2, arguments);\n    });\n    __publicField(_assertThisInitialized(_assertThisInitialized(_this)), \"onBuffer\", function () {\n      var _this$props3;\n      return (_this$props3 = _this.props).onBuffer.apply(_this$props3, arguments);\n    });\n    __publicField(_assertThisInitialized(_assertThisInitialized(_this)), \"onBufferEnd\", function () {\n      var _this$props4;\n      return (_this$props4 = _this.props).onBufferEnd.apply(_this$props4, arguments);\n    });\n    __publicField(_assertThisInitialized(_assertThisInitialized(_this)), \"onPause\", function () {\n      var _this$props5;\n      return (_this$props5 = _this.props).onPause.apply(_this$props5, arguments);\n    });\n    __publicField(_assertThisInitialized(_assertThisInitialized(_this)), \"onEnded\", function () {\n      var _this$props6;\n      return (_this$props6 = _this.props).onEnded.apply(_this$props6, arguments);\n    });\n    __publicField(_assertThisInitialized(_assertThisInitialized(_this)), \"onError\", function () {\n      var _this$props7;\n      return (_this$props7 = _this.props).onError.apply(_this$props7, arguments);\n    });\n    __publicField(_assertThisInitialized(_assertThisInitialized(_this)), \"onPlayBackRateChange\", function (event) {\n      return _this.props.onPlaybackRateChange(event.target.playbackRate);\n    });\n    __publicField(_assertThisInitialized(_assertThisInitialized(_this)), \"onEnablePIP\", function () {\n      var _this$props8;\n      return (_this$props8 = _this.props).onEnablePIP.apply(_this$props8, arguments);\n    });\n    __publicField(_assertThisInitialized(_assertThisInitialized(_this)), \"onDisablePIP\", function (e) {\n      var _this$props9 = _this.props,\n        onDisablePIP = _this$props9.onDisablePIP,\n        playing = _this$props9.playing;\n      onDisablePIP(e);\n      if (playing) {\n        _this.play();\n      }\n    });\n    __publicField(_assertThisInitialized(_assertThisInitialized(_this)), \"onPresentationModeChange\", function (e) {\n      if (_this.player && (0, import_utils.supportsWebKitPresentationMode)(_this.player)) {\n        var webkitPresentationMode = _this.player.webkitPresentationMode;\n        if (webkitPresentationMode === \"picture-in-picture\") {\n          _this.onEnablePIP(e);\n        } else if (webkitPresentationMode === \"inline\") {\n          _this.onDisablePIP(e);\n        }\n      }\n    });\n    __publicField(_assertThisInitialized(_assertThisInitialized(_this)), \"onSeek\", function (e) {\n      _this.props.onSeek(e.target.currentTime);\n    });\n    __publicField(_assertThisInitialized(_assertThisInitialized(_this)), \"mute\", function () {\n      _this.player.muted = true;\n    });\n    __publicField(_assertThisInitialized(_assertThisInitialized(_this)), \"unmute\", function () {\n      _this.player.muted = false;\n    });\n    __publicField(_assertThisInitialized(_assertThisInitialized(_this)), \"renderSourceElement\", function (source, index) {\n      if (typeof source === \"string\") {\n        return /* @__PURE__ */import_react.default.createElement(\"source\", {\n          key: index,\n          src: source\n        });\n      }\n      return /* @__PURE__ */import_react.default.createElement(\"source\", _objectSpread({\n        key: index\n      }, source));\n    });\n    __publicField(_assertThisInitialized(_assertThisInitialized(_this)), \"renderTrack\", function (track, index) {\n      return /* @__PURE__ */import_react.default.createElement(\"track\", _objectSpread({\n        key: index\n      }, track));\n    });\n    __publicField(_assertThisInitialized(_assertThisInitialized(_this)), \"ref\", function (player) {\n      if (_this.player) {\n        _this.prevPlayer = _this.player;\n      }\n      _this.player = player;\n    });\n    return _this;\n  }\n  _createClass(FilePlayer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.onMount && this.props.onMount(this);\n      this.addListeners(this.player);\n      var src = this.getSource(this.props.url);\n      if (src) {\n        this.player.src = src;\n      }\n      if (IS_IOS || this.props.config.forceDisableHls) {\n        this.player.load();\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.shouldUseAudio(this.props) !== this.shouldUseAudio(prevProps)) {\n        this.removeListeners(this.prevPlayer, prevProps.url);\n        this.addListeners(this.player);\n      }\n      if (this.props.url !== prevProps.url && !(0, import_utils.isMediaStream)(this.props.url) && !(this.props.url instanceof Array)) {\n        this.player.srcObject = null;\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.player.removeAttribute(\"src\");\n      this.removeListeners(this.player);\n      if (this.hls) {\n        this.hls.destroy();\n      }\n    }\n  }, {\n    key: \"addListeners\",\n    value: function addListeners(player) {\n      var _this$props10 = this.props,\n        url = _this$props10.url,\n        playsinline = _this$props10.playsinline;\n      player.addEventListener(\"play\", this.onPlay);\n      player.addEventListener(\"waiting\", this.onBuffer);\n      player.addEventListener(\"playing\", this.onBufferEnd);\n      player.addEventListener(\"pause\", this.onPause);\n      player.addEventListener(\"seeked\", this.onSeek);\n      player.addEventListener(\"ended\", this.onEnded);\n      player.addEventListener(\"error\", this.onError);\n      player.addEventListener(\"ratechange\", this.onPlayBackRateChange);\n      player.addEventListener(\"enterpictureinpicture\", this.onEnablePIP);\n      player.addEventListener(\"leavepictureinpicture\", this.onDisablePIP);\n      player.addEventListener(\"webkitpresentationmodechanged\", this.onPresentationModeChange);\n      if (!this.shouldUseHLS(url)) {\n        player.addEventListener(\"canplay\", this.onReady);\n      }\n      if (playsinline) {\n        player.setAttribute(\"playsinline\", \"\");\n        player.setAttribute(\"webkit-playsinline\", \"\");\n        player.setAttribute(\"x5-playsinline\", \"\");\n      }\n    }\n  }, {\n    key: \"removeListeners\",\n    value: function removeListeners(player, url) {\n      player.removeEventListener(\"canplay\", this.onReady);\n      player.removeEventListener(\"play\", this.onPlay);\n      player.removeEventListener(\"waiting\", this.onBuffer);\n      player.removeEventListener(\"playing\", this.onBufferEnd);\n      player.removeEventListener(\"pause\", this.onPause);\n      player.removeEventListener(\"seeked\", this.onSeek);\n      player.removeEventListener(\"ended\", this.onEnded);\n      player.removeEventListener(\"error\", this.onError);\n      player.removeEventListener(\"ratechange\", this.onPlayBackRateChange);\n      player.removeEventListener(\"enterpictureinpicture\", this.onEnablePIP);\n      player.removeEventListener(\"leavepictureinpicture\", this.onDisablePIP);\n      player.removeEventListener(\"webkitpresentationmodechanged\", this.onPresentationModeChange);\n      if (!this.shouldUseHLS(url)) {\n        player.removeEventListener(\"canplay\", this.onReady);\n      }\n    }\n  }, {\n    key: \"shouldUseAudio\",\n    value: function shouldUseAudio(props) {\n      if (props.config.forceVideo) {\n        return false;\n      }\n      if (props.config.attributes.poster) {\n        return false;\n      }\n      return import_patterns.AUDIO_EXTENSIONS.test(props.url) || props.config.forceAudio;\n    }\n  }, {\n    key: \"shouldUseHLS\",\n    value: function shouldUseHLS(url) {\n      if (IS_SAFARI && this.props.config.forceSafariHLS || this.props.config.forceHLS) {\n        return true;\n      }\n      if (IS_IOS || this.props.config.forceDisableHls) {\n        return false;\n      }\n      return import_patterns.HLS_EXTENSIONS.test(url) || MATCH_CLOUDFLARE_STREAM.test(url);\n    }\n  }, {\n    key: \"shouldUseDASH\",\n    value: function shouldUseDASH(url) {\n      return import_patterns.DASH_EXTENSIONS.test(url) || this.props.config.forceDASH;\n    }\n  }, {\n    key: \"shouldUseFLV\",\n    value: function shouldUseFLV(url) {\n      return import_patterns.FLV_EXTENSIONS.test(url) || this.props.config.forceFLV;\n    }\n  }, {\n    key: \"load\",\n    value: function load(url) {\n      var _this2 = this;\n      var _this$props$config = this.props.config,\n        hlsVersion = _this$props$config.hlsVersion,\n        hlsOptions = _this$props$config.hlsOptions,\n        dashVersion = _this$props$config.dashVersion,\n        flvVersion = _this$props$config.flvVersion;\n      if (this.hls) {\n        this.hls.destroy();\n      }\n      if (this.dash) {\n        this.dash.reset();\n      }\n      if (this.shouldUseHLS(url)) {\n        (0, import_utils.getSDK)(HLS_SDK_URL.replace(\"VERSION\", hlsVersion), HLS_GLOBAL).then(function (Hls) {\n          _this2.hls = new Hls(hlsOptions);\n          _this2.hls.on(Hls.Events.MANIFEST_PARSED, function () {\n            _this2.props.onReady();\n          });\n          _this2.hls.on(Hls.Events.ERROR, function (e, data) {\n            _this2.props.onError(e, data, _this2.hls, Hls);\n          });\n          if (MATCH_CLOUDFLARE_STREAM.test(url)) {\n            var id = url.match(MATCH_CLOUDFLARE_STREAM)[1];\n            _this2.hls.loadSource(REPLACE_CLOUDFLARE_STREAM.replace(\"{id}\", id));\n          } else {\n            _this2.hls.loadSource(url);\n          }\n          _this2.hls.attachMedia(_this2.player);\n          _this2.props.onLoaded();\n        });\n      }\n      if (this.shouldUseDASH(url)) {\n        (0, import_utils.getSDK)(DASH_SDK_URL.replace(\"VERSION\", dashVersion), DASH_GLOBAL).then(function (dashjs) {\n          _this2.dash = dashjs.MediaPlayer().create();\n          _this2.dash.initialize(_this2.player, url, _this2.props.playing);\n          _this2.dash.on(\"error\", _this2.props.onError);\n          if (parseInt(dashVersion) < 3) {\n            _this2.dash.getDebug().setLogToBrowserConsole(false);\n          } else {\n            _this2.dash.updateSettings({\n              debug: {\n                logLevel: dashjs.Debug.LOG_LEVEL_NONE\n              }\n            });\n          }\n          _this2.props.onLoaded();\n        });\n      }\n      if (this.shouldUseFLV(url)) {\n        (0, import_utils.getSDK)(FLV_SDK_URL.replace(\"VERSION\", flvVersion), FLV_GLOBAL).then(function (flvjs) {\n          _this2.flv = flvjs.createPlayer({\n            type: \"flv\",\n            url: url\n          });\n          _this2.flv.attachMediaElement(_this2.player);\n          _this2.flv.on(flvjs.Events.ERROR, function (e, data) {\n            _this2.props.onError(e, data, _this2.flv, flvjs);\n          });\n          _this2.flv.load();\n          _this2.props.onLoaded();\n        });\n      }\n      if (url instanceof Array) {\n        this.player.load();\n      } else if ((0, import_utils.isMediaStream)(url)) {\n        try {\n          this.player.srcObject = url;\n        } catch (e) {\n          this.player.src = window.URL.createObjectURL(url);\n        }\n      }\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      var promise = this.player.play();\n      if (promise) {\n        promise.catch(this.props.onError);\n      }\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this.player.pause();\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      this.player.removeAttribute(\"src\");\n      if (this.dash) {\n        this.dash.reset();\n      }\n    }\n  }, {\n    key: \"seekTo\",\n    value: function seekTo(seconds) {\n      var keepPlaying = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      this.player.currentTime = seconds;\n      if (!keepPlaying) {\n        this.pause();\n      }\n    }\n  }, {\n    key: \"setVolume\",\n    value: function setVolume(fraction) {\n      this.player.volume = fraction;\n    }\n  }, {\n    key: \"enablePIP\",\n    value: function enablePIP() {\n      if (this.player.requestPictureInPicture && document.pictureInPictureElement !== this.player) {\n        this.player.requestPictureInPicture();\n      } else if ((0, import_utils.supportsWebKitPresentationMode)(this.player) && this.player.webkitPresentationMode !== \"picture-in-picture\") {\n        this.player.webkitSetPresentationMode(\"picture-in-picture\");\n      }\n    }\n  }, {\n    key: \"disablePIP\",\n    value: function disablePIP() {\n      if (document.exitPictureInPicture && document.pictureInPictureElement === this.player) {\n        document.exitPictureInPicture();\n      } else if ((0, import_utils.supportsWebKitPresentationMode)(this.player) && this.player.webkitPresentationMode !== \"inline\") {\n        this.player.webkitSetPresentationMode(\"inline\");\n      }\n    }\n  }, {\n    key: \"setPlaybackRate\",\n    value: function setPlaybackRate(rate) {\n      try {\n        this.player.playbackRate = rate;\n      } catch (error) {\n        this.props.onError(error);\n      }\n    }\n  }, {\n    key: \"getDuration\",\n    value: function getDuration() {\n      if (!this.player) return null;\n      var _this$player = this.player,\n        duration = _this$player.duration,\n        seekable = _this$player.seekable;\n      if (duration === Infinity && seekable.length > 0) {\n        return seekable.end(seekable.length - 1);\n      }\n      return duration;\n    }\n  }, {\n    key: \"getCurrentTime\",\n    value: function getCurrentTime() {\n      if (!this.player) return null;\n      return this.player.currentTime;\n    }\n  }, {\n    key: \"getSecondsLoaded\",\n    value: function getSecondsLoaded() {\n      if (!this.player) return null;\n      var buffered = this.player.buffered;\n      if (buffered.length === 0) {\n        return 0;\n      }\n      var end = buffered.end(buffered.length - 1);\n      var duration = this.getDuration();\n      if (end > duration) {\n        return duration;\n      }\n      return end;\n    }\n  }, {\n    key: \"getSource\",\n    value: function getSource(url) {\n      var useHLS = this.shouldUseHLS(url);\n      var useDASH = this.shouldUseDASH(url);\n      var useFLV = this.shouldUseFLV(url);\n      if (url instanceof Array || (0, import_utils.isMediaStream)(url) || useHLS || useDASH || useFLV) {\n        return void 0;\n      }\n      if (MATCH_DROPBOX_URL.test(url)) {\n        return url.replace(\"www.dropbox.com\", \"dl.dropboxusercontent.com\");\n      }\n      return url;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props11 = this.props,\n        url = _this$props11.url,\n        playing = _this$props11.playing,\n        loop = _this$props11.loop,\n        controls = _this$props11.controls,\n        muted = _this$props11.muted,\n        config = _this$props11.config,\n        width = _this$props11.width,\n        height = _this$props11.height;\n      var useAudio = this.shouldUseAudio(this.props);\n      var Element = useAudio ? \"audio\" : \"video\";\n      var style = {\n        width: width === \"auto\" ? width : \"100%\",\n        height: height === \"auto\" ? height : \"100%\"\n      };\n      return /* @__PURE__ */import_react.default.createElement(Element, _objectSpread({\n        ref: this.ref,\n        src: this.getSource(url),\n        style: style,\n        preload: \"auto\",\n        autoPlay: playing || void 0,\n        controls: controls,\n        muted: muted,\n        loop: loop\n      }, config.attributes), url instanceof Array && url.map(this.renderSourceElement), config.tracks.map(this.renderTrack));\n    }\n  }]);\n  return FilePlayer;\n}(import_react.Component);\n__publicField(FilePlayer, \"displayName\", \"FilePlayer\");\n__publicField(FilePlayer, \"canPlay\", import_patterns.canPlay.file);"],"sourceRoot":""}